webpackJsonp([5,8],{1:/*!*************************!*\
  !*** ./src/js/title.js ***!
  \*************************/
function(t,e){t.exports={say:function(){alert(1)},title:function(t){var e=navigator.userAgent,s=e.indexOf("Android")>-1||e.indexOf("Linux")>-1,i=!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);if(s)window.WebViewJavascriptBridge?window.WebViewJavascriptBridge.callHandler("setTitle",{title:t},function(t){console.log(t),window.alert("success")}):document.addEventListener("WebViewJavascriptBridgeReady",function(){window.WebViewJavascriptBridge.callHandler("setTitle",{title:t},function(t){console.log(t),window.alert("success")})},!1);else if(i){var n=document.getElementById("IOS_setTitle");if(n){document.body.removeChild(n);var o=document.createElement("script");o.id="IOS_setTitle",o.innerHTML='try {window.webkit.messageHandlers.setTitle.postMessage({title: "'+t+'"});}catch(e){}',document.body.appendChild(o)}else{var o=document.createElement("script");o.id="IOS_setTitle",o.innerHTML=' try{window.webkit.messageHandlers.setTitle.postMessage({title: "'+t+'"});}catch(e){}',document.body.appendChild(o)}}else console.log("pc")}}},22:/*!************************************************************************************************************************************************************!*\
  !*** ./~/babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./~/vue-loader/lib/selector.js?type=script&index=0!./src/vue/myshop.vue ***!
  \************************************************************************************************************************************************************/
function(t,e,s){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var n=s(/*! ../js/webviewtestShare.js */2),o=i(n),r=s(/*! ../js/webviewGoMission.js */68),a=i(r),d=s(/*! ../js/title.js */1),l=i(d);Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var s in e)new RegExp("("+s+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?e[s]:("00"+e[s]).substr((""+e[s]).length)));return t},t.exports={route:{activate:function(t){l["default"].title("我的商城"),t.next()},data:function(t){var e=this;this.$http.post("../user-getPointsList.csp",{uid:this.uid,type:0,start:0,limit:10},{emulateJSON:!0}).then(function(t){e.ymBill=t.json().points,e.isYmBillEnd=1==t.json().isEnd,e.isYmBillEnd?e.Ymsg="已到最后一页":e.Ymsg="点击加载更多",e.ymBill.length>=10&&(e.showMoreY=!0)},function(t){}),this.$http.post("../user-getPointsList.csp",{uid:this.uid,type:1,start:0,limit:10},{emulateJSON:!0}).then(function(t){e.winRecord=t.json().points,e.isRewardsEnd=1==t.json().isEnd,e.isRewardsEnd?e.Rmsg="已到最后一页":e.Rmsg="点击加载更多",e.winRecord.length>=10&&(e.showMoreR=!0)},function(t){}),this.$http.post("../user-getPointsList.csp",{uid:this.uid,type:2,start:0,limit:10},{emulateJSON:!0}).then(function(t){e.orders=t.json().points,e.isOrderEnd=1==t.json().isEnd,e.isOrderEnd?e.Omsg="已到最后一页":e.Omsg="点击加载更多",e.orders.length>=10&&(e.showMoreO=!0)},function(t){})}},vuex:{getters:{userInfo:function(t){return t.userInfo},uid:function(t){return t.uid}}},data:function(){return{tabs:[{name:"订单查询",active:!0,index:0},{name:"医米流水",active:!1,index:1},{name:"中奖纪录",active:!1,index:2}],tabBoxIndex:0,ymBill:[],winRecord:[],orders:[],isOrderEnd:!0,isYmBillEnd:!0,isRewardsEnd:!0,startOrder:1,startYmBill:1,startRewards:1,Omsg:"点击加载更多",Ymsg:"点击加载更多",Rmsg:"点击加载更多",showMoreO:!1,showMoreY:!1,showMoreR:!1}},methods:{setCur:function(t){for(var e=0;e<this.tabs.length;e++)t==e?(this.tabs[t].active=!0,this.tabBoxIndex=this.tabs[e].index*-1):this.tabs[e].active=!1},getYm:function(){a["default"].goMission()},goOrder:function(t){this.$router.go({path:"/orderDetail",query:{oId:t}})},loadMoreOrder:function(){var t=this;this.isOrderEnd?this.Omsg="已到最后一页":this.$http.post("../user-getPointsList.csp",{uid:this.uid,type:2,start:10*this.startOrder,limit:10},{emulateJSON:!0}).then(function(e){var s=t.orders,i=e.json().points;t.orders=s.concat(i),t.isOrderEnd=1==e.json().isEnd,t.startOrder++,t.isOrderEnd&&(t.Omsg="已到最后一页")},function(t){})},loadMoreYmBill:function(){var t=this;this.isYmBillEnd?this.Ymsg="已到最后一页":this.$http.post("../user-getPointsList.csp",{uid:this.uid,type:0,start:10*this.startYmBill,limit:10},{emulateJSON:!0}).then(function(e){var s=t.ymBill,i=e.json().points;t.ymBill=s.concat(i),t.isYmBillEnd=1==e.json().isEnd,t.startYmBill++,t.isYmBillEnd&&(t.Ymsg="已最后一页")},function(t){})},loadMoreRewards:function(){var t=this;this.isRewardsEnd?this.Rmsg="已到最后一页":this.$http.post("../user-getPointsList.csp",{uid:this.uid,type:1,start:10*this.startRewards,limit:10},{emulateJSON:!0}).then(function(e){var s=t.winRecord,i=e.json().points;t.winRecord=s.concat(i),t.isRewardsEnd=1==e.json().isEnd,t.startRewards++,t.isRewardsEnd&&(t.Rmsg="已到最后一页")},function(t){})}},ready:function(){o["default"].test(0)}}},32:/*!*********************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./~/extract-text-webpack-plugin/loader.js?{"omit":1,"extract":true,"remove":true}!./~/vue-style-loader!./~/css-loader!./~/vue-loader/lib/style-rewriter.js!./~/sass-loader!./~/vue-loader/lib/selector.js?type=style&index=0!./src/vue/myshop.vue ***!
  \*********************************************************************************************************************************************************************************************************************************************************/
function(t,e){},47:/*!*****************************************************************************************************!*\
  !*** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/vue/myshop.vue ***!
  \*****************************************************************************************************/
function(t,e){t.exports=' <section class=my-shop-contain> <div class=my-shop> <span class=money-icon></span> 我的医米: <span>{{userInfo.points}}</span> <button class="btn btn-red" v-touch:tap=getYm>获取医米</button> </div> <div class=my-shop-info> <ul class=my-shop-tab> <li v-for="tab in tabs" v-bind:class="{\'active\':tab.active}" v-touch:tap=setCur($index)> {{tab.name}} <span></span> </li> </ul> <div class=tab-container> <ul class=clearfix v-bind:style="{transform:\'translateX(\'+tabBoxIndex*33.33+\'%)\'}"> <li class=orders> <div style="width: 100%;min-height: 1px"> <div class=my-order v-for="order in orders" v-touch:tap=goOrder(order.orderId)> <p class=clearfix> <span>{{order.exReason}}</span> <span>{{order.points}}医米</span> </p> <p class=clearfix> <span>{{new Date(order.creatTime*1000).Format("yyyy-MM-dd")}}&nbsp;&nbsp;{{new Date(order.creatTime*1000).Format("hh:mm:ss")}}</span> <span>支付成功</span> </p> </div> </div> <button class="btn btn-red" v-if=showMoreO :class="{\'disabled\':isOrderEnd}" v-touch:tap=loadMoreOrder>{{Omsg}}</button> </li> <li class=yms> <table> <tr v-for="bill in ymBill"> <td>{{new Date(bill.creatTime*1000).Format("yyyy-MM-dd")}}</td> <td>{{bill.exReason}}</td> <td>{{bill.points}}</td> </tr> </table> <button class="btn btn-red" v-if=showMoreY :class="{\'disabled\':isYmBillEnd}" v-touch:tap=loadMoreYmBill>{{Ymsg}}</button> </li> <li class=rewards> <table> <tr v-for="win in  winRecord"> <td>{{new Date(win.creatTime*1000).Format("yyyy-MM-dd")}}</td> <td>{{win.points}}</td> </tr> </table> <button class="btn btn-red" v-if=showMoreR :class="{\'disabled\':isRewardsEnd}" v-touch:tap=loadMoreRewards>{{Rmsg}}</button> </li> </ul> </div> </div> </section> '},60:/*!****************************!*\
  !*** ./src/vue/myshop.vue ***!
  \****************************/
function(t,e,s){var i,n;s(/*! !./../../~/extract-text-webpack-plugin/loader.js?{"omit":1,"extract":true,"remove":true}!vue-style-loader!css-loader!./../../~/vue-loader/lib/style-rewriter.js!sass-loader!./../../~/vue-loader/lib/selector.js?type=style&index=0!./myshop.vue */32),i=s(/*! !babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../~/vue-loader/lib/selector.js?type=script&index=0!./myshop.vue */22),n=s(/*! !vue-html-loader!./../../~/vue-loader/lib/selector.js?type=template&index=0!./myshop.vue */47),t.exports=i||{},t.exports.__esModule&&(t.exports=t.exports["default"]),n&&(("function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports).template=n)},68:/*!************************************!*\
  !*** ./src/js/webviewGoMission.js ***!
  \************************************/
function(t,e){t.exports={say:function(){alert(1)},goMission:function(){var t=navigator.userAgent,e=t.indexOf("Android")>-1||t.indexOf("Linux")>-1,s=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);if(e)window.WebViewJavascriptBridge?window.WebViewJavascriptBridge.callHandler("go2MissionAct",function(t){console.log(t)}):document.addEventListener("WebViewJavascriptBridgeReady",function(){window.WebViewJavascriptBridge.callHandler("go2MissionAct",function(t){console.log(t)})},!1);else if(s){var i=document.createElement("script");i.id="IOS_go2MissionAct",i.innerHTML="try{window.webkit.messageHandlers.go2MissionActOC.postMessage({go2Mission: true});}catch(e){}",document.body.appendChild(i)}else console.log("pc")}}}});
//# sourceMappingURL=5.build.js.map