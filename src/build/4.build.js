webpackJsonp([4,8],{1:/*!*************************!*\
  !*** ./src/js/title.js ***!
  \*************************/
function(e,i){e.exports={say:function(){alert(1)},title:function(e){var i=navigator.userAgent,o=i.indexOf("Android")>-1||i.indexOf("Linux")>-1,t=!!i.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);if(o)window.WebViewJavascriptBridge?window.WebViewJavascriptBridge.callHandler("setTitle",{title:e},function(e){console.log(e),window.alert("success")}):document.addEventListener("WebViewJavascriptBridgeReady",function(){window.WebViewJavascriptBridge.callHandler("setTitle",{title:e},function(e){console.log(e),window.alert("success")})},!1);else if(t){var s=document.getElementById("IOS_setTitle");if(s){document.body.removeChild(s);var n=document.createElement("script");n.id="IOS_setTitle",n.innerHTML='try {window.webkit.messageHandlers.setTitle.postMessage({title: "'+e+'"});}catch(e){}',document.body.appendChild(n)}else{var n=document.createElement("script");n.id="IOS_setTitle",n.innerHTML=' try{window.webkit.messageHandlers.setTitle.postMessage({title: "'+e+'"});}catch(e){}',document.body.appendChild(n)}}else console.log("pc")}}},4:/*!*****************************!*\
  !*** ./src/js/getBlance.js ***!
  \*****************************/
function(e,i){e.exports={say:function(){document.body.style.background="#000"},blance:function(e,i){var o=navigator.userAgent,t=o.indexOf("Android")>-1||o.indexOf("Linux")>-1,s=!!o.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);t?window.WebViewJavascriptBridge?window.WebViewJavascriptBridge.callHandler("setBalance",{balance:parseInt(i),point:parseFloat(e)},function(e){console.log(e),window.alert("success")}):document.addEventListener("WebViewJavascriptBridgeReady",function(){window.WebViewJavascriptBridge.callHandler("setBalance",{balance:parseInt(i),point:parseFloat(e)},function(e){console.log(e),window.alert("success")})},!1):s||console.log("pc")}}},6:/*!*****************************!*\
  !*** ./src/vuex/actions.js ***!
  \*****************************/
function(e,i){i.setGoodInfo=function(e,i){e.dispatch("SETGOODINFO",i)},i.setAddress=function(e,i){e.dispatch("SETADDRESS",i)}},21:/*!**************************************************************************************************************************************************************!*\
  !*** ./~/babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./~/vue-loader/lib/selector.js?type=script&index=0!./src/vue/infoSure.vue ***!
  \**************************************************************************************************************************************************************/
function(e,i,o){"use strict";function t(e){return e&&e.__esModule?e:{"default":e}}var s=o(/*! ../js/webviewtestShare.js */2),n=t(s),a=o(/*! ../js/title.js */1),l=t(a),d=o(/*! ../js/getBlance.js */4),r=t(d),c=o(/*! ../vuex/actions.js */6),u=function(e){var i=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),o=window.location.search.substr(1).match(i);return null!=o?o[2]:null};e.exports={data:function(){return{isFix:!0,getAddr:{},emails:[{mail:"qq.com"},{mail:"vip.qq.com"},{mail:"vip.sina.com"},{mail:"126.com"},{mail:"sina.com"},{mail:"163.com"},{mail:"126.com"},{mail:"yahoo.cn"},{mail:"foxmail.com"},{mail:"yeah.net"},{mail:"gmail.com"},{mail:"sohu.com"},{mail:"hotmail.com"}],showMails:!1,email_end:"",email:"",email_start:"",realGood:!0,showTip:!1,isSave:!0,message:""}},route:{activate:function(){},data:function p(e){var i=this,p={uid:u("uid")};this.$http.post("../shop-getAddr.csp",p,{emulateJSON:!0}).then(function(o){e.next({getAddr:o.json().addr}),i.setAddress(o.json().addr)},function(e){})}},vuex:{getters:{goodInfo:function(e){return e.goodsInfo},uid:function(e){return e.uid},userInfo:function(e){return e.userInfo}},actions:{setAddress:c.setAddress}},computed:{isFix:function(){return""!=this.getAddr.detailaddrShort&&""!=this.getAddr.detailaddr},realGood:function(){return 0==this.goodInfo.goodsCategory},email:function(){return this.email_start+"@"+this.email_end},exEmailStart:function(){if(this.userInfo.email){var e=this.userInfo.email.indexOf("@");return this.userInfo.email.substr(0,e)}},exEmailEnd:function(){if(this.userInfo.email){var e=this.userInfo.email.indexOf("@");return this.userInfo.email.substring(e+1)}}},methods:{tipMail:function(){this.showMails=!0},untipMial:function(){this.showMails=!1},select:function(e){this.email_end=this.emails[e].mail},showDialog:function(e){this.$dispatch("showDialog",e)},revise:function(){this.isSave=!0},save:function(){var e=this,i=this.email;if(this.realGood){var o={uid:this.uid,goodId:this.goodInfo.id,platform:u("platform")};this.isSave&&(this.isSave=!1,this.$http.post("../shop-buyGoods.csp",o,{emulateJSON:!0}).then(function(i){if(i.json().success){var o=e;o.showDialog("兑换成功！"),setTimeout(function(){o.isSave=!0,o.$router.go({path:"/home"}),o.userInfo.points=o.userInfo.points-o.goodInfo.priceYm,o.userInfo.ymMoney=o.userInfo.ymMoney-o.goodInfo.priceYb;var e=o.userInfo.points,i=o.userInfo.ymMoney;console.log(e),console.log(i),r["default"].blance(e,i)},1e3)}else e.isSave=!0,e.showDialog(i.json().message)},function(i){e.isSave=!0,e.showDialog(i.json().message)}))}else if(/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(i)||(this.showTip=!0,this.message="邮箱格式不正确",this.isSave=!1),this.isSave){this.isSave=!1;var o={uid:this.uid,goodId:this.goodInfo.id,email:this.email,platform:u("platform")};this.$http.post("../shop-buyGoods.csp",o,{emulateJSON:!0}).then(function(i){if(i.json().success){var o=e;o.showDialog("兑换成功"),setTimeout(function(){o.isSave=!0,o.$router.go({path:"/home"}),o.userInfo.points=o.userInfo.points-o.goodInfo.priceYm,o.userInfo.ymMoney=o.userInfo.ymMoney-o.goodInfo.priceYb;var e=o.userInfo.points,i=o.userInfo.ymMoney;console.log(e),console.log(i),r["default"].blance(e,i)},1e3)}else e.isSave=!0,e.showDialog(i.json().message)},function(i){e.showDialog(i.json().message),e.isSave=!0})}}},ready:function(){n["default"].test(0),l["default"].title("信息确认")}}},31:/*!***********************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./~/extract-text-webpack-plugin/loader.js?{"omit":1,"extract":true,"remove":true}!./~/vue-style-loader!./~/css-loader!./~/vue-loader/lib/style-rewriter.js!./~/sass-loader!./~/vue-loader/lib/selector.js?type=style&index=0!./src/vue/infoSure.vue ***!
  \***********************************************************************************************************************************************************************************************************************************************************/
function(e,i){},46:/*!*******************************************************************************************************!*\
  !*** ./~/vue-html-loader!./~/vue-loader/lib/selector.js?type=template&index=0!./src/vue/infoSure.vue ***!
  \*******************************************************************************************************/
function(e,i){e.exports=' <section class=infoSure> <div class=user-info> <div v-if=realGood> <div class=isFix> <p>收货人：<span>{{getAddr.name}}</span></p> <p>联系电话：<span>{{getAddr.phone}}</span></p> <p>收货地址：<span>{{getAddr.detailaddr}}</span></p> </div> <div class=fix-info> <p v-if=isFix style="color: #D93639;display: inline-block;width:80%" v-link="{path:\'/saveAddr\'}">修改收货地址</p> <p v-else style="color: #D93639;display: inline-block" v-link="{path:\'/saveAddr\'}">还未填写收货地址？马上去填写</p> <span class=go-change></span> </div> </div> <div v-else> <h3 class=email-title>电子邮箱</h3> <div class="email clearfix"> <div> <input type=text name="" v-model=email_start @change=revise :value=exEmailStart> </div> <div style="margin-left: 1px;margin-right: 1px;width: 20px;text-align: center;height: 30px;line-height: 30px">@</div> <div> <input type=text placeholder=qq.com @focus=tipMail @blur=untipMial v-model=email_end :value=exEmailEnd> <div v-if=showMails class=emailBox> <ul v-if=showMails transition=expand> <li v-for="item in emails" v-touch:tap=select($index)>{{item.mail}}</li> </ul> </div> </div> </div> </div> <div class=hr></div> <div class=good-info> <div> <img :src=goodInfo.coverpicurl> </div> <div> <p>{{goodInfo.name}}</p> </div> <div> <p class=red>{{goodInfo.priceYm+\'医米\'}}<br>{{goodInfo.priceYb==0?\'\':\'+\'}}{{goodInfo.priceYb==0?\'\':goodInfo.priceYb+\'医币\'}}</p> </div> </div> </div> <button class="btn btn-red fixed-bottom" v-touch:tap=save>确认兑换</button> <div class=tip v-show=showTip v-text=message></div> </section> '},59:/*!******************************!*\
  !*** ./src/vue/infoSure.vue ***!
  \******************************/
function(e,i,o){var t,s;o(/*! !./../../~/extract-text-webpack-plugin/loader.js?{"omit":1,"extract":true,"remove":true}!vue-style-loader!css-loader!./../../~/vue-loader/lib/style-rewriter.js!sass-loader!./../../~/vue-loader/lib/selector.js?type=style&index=0!./infoSure.vue */31),t=o(/*! !babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!./../../~/vue-loader/lib/selector.js?type=script&index=0!./infoSure.vue */21),s=o(/*! !vue-html-loader!./../../~/vue-loader/lib/selector.js?type=template&index=0!./infoSure.vue */46),e.exports=t||{},e.exports.__esModule&&(e.exports=e.exports["default"]),s&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=s)}});
//# sourceMappingURL=4.build.js.map